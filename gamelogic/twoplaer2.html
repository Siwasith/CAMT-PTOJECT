<!DOCTYPE html>
<html>
<head>
    <title>Tic Tac Toe</title>
    <style>
        td {
            width: 80px;
            height: 80px;
            border: 1px solid black;
            text-align: center;
            font-size: 30px;
            cursor: pointer;
        }
        .reset-button {
            display: block;
            width: 100px;
            margin: 20px auto;
            padding: 10px;
            text-align: center;
            background-color: #ccc;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Tic Tac Toe</h1>
    <table>
        <tr>
            <td onclick="makeMove(0, 0)"></td>
            <td onclick="makeMove(0, 1)"></td>
            <td onclick="makeMove(0, 2)"></td>
            <td onclick="makeMove(0, 3)"></td>
            <td onclick="makeMove(0, 4)"></td>
        </tr>
        <tr>
            <td onclick="makeMove(1, 0)"></td>
            <td onclick="makeMove(1, 1)"></td>
            <td onclick="makeMove(1, 2)"></td>
            <td onclick="makeMove(1, 3)"></td>
            <td onclick="makeMove(1, 4)"></td>
        </tr>
        <tr>
            <td onclick="makeMove(2, 0)"></td>
            <td onclick="makeMove(2, 1)"></td>
            <td onclick="makeMove(2, 2)"></td>
            <td onclick="makeMove(2, 3)"></td>
            <td onclick="makeMove(2, 4)"></td>
        </tr>
        <tr>
            <td onclick="makeMove(3, 0)"></td>
            <td onclick="makeMove(3, 1)"></td>
            <td onclick="makeMove(3, 2)"></td>
            <td onclick="makeMove(3, 3)"></td>
            <td onclick="makeMove(3, 4)"></td>
        </tr>
        <tr>
            <td onclick="makeMove(4, 0)"></td>
            <td onclick="makeMove(4, 1)"></td>
            <td onclick="makeMove(4, 2)"></td>
            <td onclick="makeMove(4, 3)"></td>
            <td onclick="makeMove(4, 4)"></td>
        </tr>
    </table>
    <div class="reset-button" onclick="resetBoard()">Reset Board</div>
    <script>
        // 5x5 array to represent the game board
        var board = [
            ['', '', '', '', ''],
            ['', '', '', '', ''],
            ['', '', '', '', ''],
            ['', '', '', '', ''],
            ['', '', '', '', '']
        ];

        var currentPlayer = 'X';
        function randomFirstPlayer(){
            const num1 = Math.floor((Math.random() * 2) + 1);
            console.log(num1);
            if(num1 == 1){
                currentPlayer ='X';         
            }else{
                currentPlayer ='O';       
            }
            console.log(currentPlayer);
          
        }

        function makeMove(row, col) {
            // Check if the cell is empty
            if (board[row][col] === '') {
                // Set the current player's symbol on the board
                board[row][col] = currentPlayer;
                // Update the cell with the current player's symbol
                document.getElementsByTagName('td')[row * 5 + col].innerHTML = currentPlayer;
                // Check for a win
                if (checkWin(currentPlayer)) {
                    alert(currentPlayer + ' wins!');
                    resetBoard();
                } else if (checkDraw()) {
                    alert('It\'s a draw!');
                    resetBoard();
                } else {
                    // Switch players
                    currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                }
            }
        }

        function checkWin(player) {
    // Check rows
    for (var i = 0; i < 5; i++) {
        for (var j = 0; j <= 5 - 4; j++) {
            if (
                board[i][j] === player &&
                board[i][j + 1] === player &&
                board[i][j + 2] === player &&
                board[i][j + 3] === player
            ) {
                return true;
            }
        }
    }
    // Check columns
    for (var j = 0; j < 5; j++) {
        for (var i = 0; i <= 5 - 4; i++) {
            if (
                board[i][j] === player &&
                board[i + 1][j] === player &&
                board[i + 2][j] === player &&
                board[i + 3][j] === player
            ) {
                return true;
            }
        }
    }
    // Check diagonals (top-left to bottom-right)
    for (var i = 0; i <= 5 - 4; i++) {
        for (var j = 0; j <= 5 - 4; j++) {
            if (
                board[i][j] === player &&
                board[i + 1][j + 1] === player &&
                board[i + 2][j + 2] === player &&
                board[i + 3][j + 3] === player
            ) {
                return true;
            }
        }
    }
    // Check diagonals (top-right to bottom-left)
    for (var i = 0; i <= 5 - 4; i++) {
        for (var j = 3; j < 5; j++) {
            if (
                board[i][j] === player &&
                board[i + 1][j - 1] === player &&
                board[i + 2][j - 2] === player &&
                board[i + 3][j - 3] === player
            ) {
                return true;
            }
        }
    }
    return false;
}
        function checkDraw() {
            for (var i = 0; i < 5; i++) {
                for (var j = 0; j < 5; j++) {
                    if (board[i][j] === '') {
                        return false;
                    }
                }
            }
            return true;
        }

        function resetBoard() {
            
            board = [
                ['', '', '', '', ''],
                ['', '', '', '', ''],
                ['', '', '', '', ''],
                ['', '', '', '', ''],
                ['', '', '', '', '']
            ];
            var cells = document.getElementsByTagName('td');
            for (var i = 0; i < cells.length; i++) {
                cells[i].innerHTML = '';
            }
            randomFirstPlayer()
        }
    </script>
</body>
</html>
